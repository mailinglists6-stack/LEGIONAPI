# ูุณุชูุฏุงุช API ฺฉูพุงุฑฺูโุณุงุฒ ูฺูู

ุจู ูุณุชูุฏุงุช ุฑุณู API ูฺูู ุฎูุด ุขูุฏุฏ. ุงู ูุณุชูุฏุงุช ุจุฑุง ุชูุณุนูโุฏููุฏฺฏุงู ุทุฑุงุญ ุดุฏู ฺฉู ูโุฎูุงููุฏ ุณุณุชูโูุง ุฎูุฏ ุฑุง ุจุง ูพูุชูุฑู ููุงุฏุงุฑ ูฺูู ฺฉูพุงุฑฺู ฺฉููุฏ.

## ูฺูู ฺุณุชุ

ูฺูู ฺฉ ูพูุชูุฑู ูุฏุฑุช ููุงุฏุงุฑ ู ุงุฑุชุจุงุท ุจุง ูุดุชุฑ ุงุณุช ฺฉู ุจู ฺฉุณุจโูฺฉุงุฑูุง ฺฉูฺฉ ูโฺฉูุฏ:

- **ุจุงุดฺฏุงู ูุดุชุฑุงู** ุงุฌุงุฏ ฺฉููุฏ
- **ุงูุชุงุฒุฏู ู ุณุทุญโุจูุฏ** ูุดุชุฑุงู ุฑุง ูุฏุฑุช ฺฉููุฏ
- **ฺฉููพูโูุง ูพุงูฺฉ ู ุงูู** ุงุฌุฑุง ฺฉููุฏ
- **ุชุญูู RFM** ุงูุฌุงู ุฏููุฏ
- **ฺฉุดุจฺฉ ู ูพุงุฏุงุด** ุจุฑุง ูุดุชุฑุงู ุชุนุฑู ฺฉููุฏ

## ุดุฑูุน ุณุฑุน

### ฑ. ุฏุฑุงูุช API Key

ุงุฒ ูพูู ูุฏุฑุช ูฺูู ุจู ุขุฏุฑุณ [app.legion.tools](https://app.legion.tools) ูุงุฑุฏ ุดูุฏ ู ุงุฒ ุจุฎุด ุชูุธูุงุชุ Integration Token ุฎูุฏ ุฑุง ุฏุฑุงูุช ฺฉูุฏ.

### ฒ. ุชุณุช ุงุชุตุงู

```bash
curl -X GET \
  'https://api.legion.tools/v1/api/integration/accounts/connection/' \
  -H 'X-Api-Key: YOUR_API_KEY'
```

### ณ. ุงุฑุณุงู ุงููู ุฑูุฏุงุฏ ุฎุฑุฏ

```bash
curl -X POST \
  'https://api.legion.tools/integration/flow-state/event/add/' \
  -H 'X-Api-Key: YOUR_API_KEY' \
  -H 'Content-Type: application/json' \
  -d '[{
    "id": "550e8400-e29b-41d4-a716-446655440000",
    "event_id": 2,
    "payload": {
      "uid": "1001",
      "username": "9121234567",
      "order_id": "10001",
      "order_total_price": 500000,
      "order_paid_price": 500000,
      "order_with_discount_price": 500000,
      "order_coupon_codes": ["empty"],
      "discount_price_applied": 0,
      "cashback_price_applied": 0,
      "cost_misc": 0,
      "cost_shipping": 0,
      "cost_taxonomy": 0,
      "currency": "ุชููุงู",
      "products": [1001],
      "Included_categories": [1],
      "affiliate_referrer_id": "",
      "timestamp": "2025-01-01 10:00:00",
      "purchase_channel": "ุขููุงู",
      "branch": ""
    },
    "meta": {}
  }]'
```

## ููฺฉโูุง ููุฏ

| ููุจุน | ููฺฉ |
|------|------|
| ูพูู ูุฏุฑุช | [app.legion.tools](https://app.legion.tools) |
| ูุจโุณุงุช ูฺูู | [legion.tools](https://legion.tools) |
| ูพุดุชุจุงู | [ูพูู ูพุดุชุจุงู](https://app.legion.tools/support) |

## ฺฏุฑููโูุง API

| ฺฏุฑูู | ุชูุถุญ |
|------|-------|
| ๐ค ูุดุชุฑุงู | ุซุจุชุ ูุดุงูุฏูุ ูุฑุงุด ู ุญุฐู ูุดุชุฑุงู |
| ๐ฆ ูุญุตููุงุช | ูุฏุฑุช ฺฉุงุชุงููฺฏ ูุญุตููุงุช |
| ๐๏ธ ุฏุณุชูโุจูุฏโูุง | ูุฏุฑุช ุฏุณุชูโุจูุฏ ูุญุตููุงุช |
| ๐ ูพุงุฏุงุดโูุง | ุฏุฑุงูุช ู ุงุณุชูุงุฏู ุงุฒ ฺฉุฏูุง ุชุฎูู |
| ๐ฐ ฺฉุดุจฺฉ | ฺฏุฒุงุฑุดโูุง ฺฉุดุจฺฉ ูุดุชุฑุงู |
| ๐ ููฺฏุงูโุณุงุฒ | ูพฺฏุฑ ุนููุงุชโูุง ูุงููุฒูุงู |
| โก ุฑูุฏุงุฏูุง | ุงุฑุณุงู ุฑูุฏุงุฏ ุฎุฑุฏ ุจู ููุชูุฑ ููุงุฏุงุฑ |

## ุนููุงุช ูุงููุฒูุงู

ุจุฑุฎ APIโูุง (ูุงููุฏ insert ู bulk-update) ุจู ุตูุฑุช ูุงููุฒูุงู ูพุฑุฏุงุฒุด ูโุดููุฏ ู ฺฉ `process_id` ุจุฑูโฺฏุฑุฏุงููุฏ. ุจุฑุง ุจุฑุฑุณ ูุถุนุช:

```bash
curl 'https://api.legion.tools/v1/api/integration/sync/inquiry/?process_id=PROCESS_ID' \
  -H 'X-Api-Key: YOUR_API_KEY'
```

ูพุงุณุฎ ูููู:
```json
{
  "data": {
    "updated_ids": [],
    "created_ids": [1001, 1002]
  },
  "status": "success"
}
```
